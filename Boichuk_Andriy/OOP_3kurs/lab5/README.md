# Львівський Національний Університет Природокористування
## Кафедра Інформаційних систем та Технологій

### Звіт про виконання лабораторної роботи №5
### Тема: "Рефакторинг програмного забезпечення"

| Виконав: студент групи КН-31 Бойчук Андрій |  
| ------------------------------------------ |  
| Перевірив: Татомир Андрій Володимирович    |  

---

### Мета роботи
Познайомитися з основними принципами та найбільш поширеними техніками рефакторингу програмного забезпечення.

---

## Теоретичні відомості

### Що таке рефакторинг?
Рефакторинг - це процес зміни внутрішньої структури програми, що не зачіпає її зовнішньої поведінки і має на меті полегшити розуміння її роботи.

### Основні цілі рефакторингу:
1. Покращення дизайну програмного забезпечення
2. Підвищення читабельності коду
3. Спрощення структури програми
4. Усунення дублювання коду
5. Полегшення підтримки коду

## Практична частина

У практичній частині було реалізовано систему розрахунку знижок для клієнтів. Розглянемо два підходи до реалізації:

### 1. Початковий "брудний" код (MessyCalculator)

Проблеми початкового коду:
- Вся логіка змішана в одному методі
- Складні вкладені умови
- Змішування розрахунків та форматування виводу
- Складно розширювати та тестувати
- Порушення принципу єдиної відповідальності

### 2. Код після рефакторингу

Розділено на окремі класи:

#### CustomerDiscount
- Відповідає за розрахунок знижок на основі типу клієнта
- Підтримує різні типи клієнтів (VIP, звичайний)

#### LoyaltyDiscount
- Розраховує додаткові знижки за лояльність
- Враховує кількість років співпраці

#### PriceCalculator
- Координує роботу різних типів знижок
- Забезпечує дотримання максимальної знижки (30%)
- Повертає фінальну ціну та загальну знижку

#### PriceFormatter
- Відповідає лише за форматування виводу
- Генерує читабельний звіт про ціни та знижки

### Переваги після рефакторингу:

1. **Модульність**:
   - Кожен клас відповідає за конкретну функцію
   - Легко додавати нові типи знижок
   - Просто модифікувати існуючу логіку

2. **Читабельність**:
   - Чітка структура коду
   - Зрозумілі назви класів та методів
   - Відсутність складних вкладених умов

3. **Тестування**:
   - Можливість тестувати кожен компонент окремо
   - Простіше написання unit-тестів
   - Легше знаходити помилки

4. **Підтримка**:
   - Простіше вносити зміни
   - Менше ризик появи помилок
   - Краща організація коду

## Висновок

Проведений рефакторинг значно покращив якість коду. Розділення відповідальності між різними класами зробило код більш зрозумілим та легшим для підтримки. Тепер кожен компонент відповідає за свою частину логіки, що відповідає принципам SOLID та полегшує подальшу розробку та модифікацію системи.