
# Львівський Національний Університет Природокористування
## Кафедра Інформаційних систем та Технологій

### Звіт про виконання лабораторної роботи №5
### Тема: "Рефакторинг програмного забезпечення"

| Виконав: студент групи КН-31 Вітка Тарас |  
| ------------------------------------------ |  
| Перевірив: Татомир Андрій Володимирович               |  

---

### Мета
Познайомитися з основними принципами та найбільш поширеними техніками рефакторингу програмного забезпечення.


---

### Хід роботи

1. Дати загальний опис принципів рефакторингу.
2. Ознайомитися із основними техніками рефакторингу.
3. Познайомитися із поняттям “запахів коду”.


---

### Дати загальний опис принципів рефакторингу.

Рефакторинг — це процес поліпшення існуючого коду без зміни його зовнішньої поведінки. Метою є підвищення якості коду: його читабельності, структури, гнучкості та ефективності.

Цей процес важливий для довгострокового успіху проєкту, оскільки допомагає підтримувати якість коду та полегшує його розвиток у майбутньому.

### Ключові характеристики рефакторингу
1) Без зміни функціональності
Рефакторинг не впливає на те, як програма працює ззовні. Це тільки внутрішня оптимізація.
2) Покращення якості коду
Код стає більш зрозумілим, структурованим і простим для модифікації.
3) Можливість автоматизації
Багато сучасних IDE надають інструменти для автоматичного рефакторингу, такі як перейменування змінних або класів, виділення методів тощо.

#### Цілі рефакторингу
- Читабельність: зробити код легшим для розуміння.
- Зменшення складності: позбутися зайвих або дубльованих елементів.
- Покращення архітектури: забезпечити правильне дотримання принципів ООП і шаблонів проєктування.
- Підвищення продуктивності: оптимізувати виконання програми.
- Легкість у тестуванні: зробити код більш підходящим для автоматичного тестування.

#### Основні техніки рефакторингу
1) Виділення методу (Extract Method):
Виділення частини коду в окремий метод для підвищення читабельності.

2) Заміна дубльованого коду (Replace Duplicated Code):
Об'єднання дубльованого коду в одному місці.

3) Заміна магічних чисел (Replace Magic Numbers with Constants):
Заміна чисел, які важко зрозуміти, на іменовані константи.

4) Розбиття великих класів (Split Class):
Якщо клас виконує занадто багато задач, його потрібно розділити на кілька менших класів.

#### Запахи коду
Запахи коду — це ознаки, що свідчать про проблеми в коді, які не викликають негайних помилок, але ускладнюють його підтримку, розвиток і розуміння. Запахи коду зазвичай є наслідком поганого дизайну, технічного боргу або поспішних рішень у процесі розробки.

Хоча запахи коду не є прямими багами, їх ігнорування може призвести до значного ускладнення роботи з проєктом у майбутньому.

#### Код
[До](do.py)
Проблеми до рефакторингу:
- Клас відповідає за дві різні задачі: Він і обчислює загальну суму, і друкує рахунок. Це порушує принцип єдиної відповідальності, оскільки кожен клас має виконувати лише одну задачу.
- Труднощі з тестуванням: Якщо ми хочемо змінити спосіб друку рахунку або додати нову функціональність, нам доведеться змінювати цей клас.


[Після](pislya.py)
Зміни які відбулись після рефакторингу:
- Розділення обов'язків: Тепер клас InvoiceCalculator відповідає лише за обчислення загальної суми, а клас InvoicePrinter — за виведення рахунку. Це дозволяє кожному класу зосередитись на одній задачі.
- Покращена гнучкість: Якщо нам потрібно змінити спосіб друку рахунку, ми можемо змінити лише клас InvoicePrinter, не змінюючи логіку обчислень у класі InvoiceCalculator.
- Зручніше для тестування: Тепер можна тестувати обчислення суми та друк рахунку окремо.

---

### Висновок

У ході виконання лабораторної роботи було продемонстровано важливість застосування принципу єдиної відповідальності при рефакторингу коду, що дозволило зробити його більш зрозумілим, гнучким і зручним для тестування. Розділення відповідальностей між класами сприяє покращенню структури програмного забезпечення, спрощує внесення змін і розширень, а також підвищує ефективність підтримки коду в майбутньому.

---


