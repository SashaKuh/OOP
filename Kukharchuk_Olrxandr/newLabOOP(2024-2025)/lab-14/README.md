# Львівський Національний Університет Природокористування

## Кафедра Інформаційних систем та Технологій

### Звіт про виконання лабораторної роботи №14

### Тема: "Рефакторинг програмного забезпечення"

| Виконав: студент групи КН-31 Кухарчук Олександр |
| ----------------------------------------------- |
| Перевірив: Татомир Андрій                       |

---

### Мета

Мета роботи - познайомитися з основними принципами та найбільш
поширеними техніками рефакторингу програмного забезпечення.

---

### Завдання

1. Дати загальний опис принципів рефакторингу.
2. Ознайомитися із основними техніками рефакторингу.
3. Познайомитися із поняттям “запахів коду”.

---

### Виконання

**Що таке рефакторинг?**  
Рефакторинг — це процес модифікації програмного коду для покращення його структури, не змінюючи функціональність програми. Це важливий етап у розробці програмного забезпечення, що дозволяє зробити код чистішим, зручнішим для підтримки та більш масштабованим.

**Основні принципи рефакторингу:**

1. **Покращення читабельності:** Приділення уваги ясності коду, щоб він був зрозумілим не тільки для автора, а й для інших розробників.
2. **Покращення тестованості:** Створення чітких, невеликих модулів, які легко тестувати.
3. **Зменшення дублювання:** Використання методів, що зменшують кількість повторюваного коду.
4. **Збереження функціональності:** Під час рефакторингу важливо не змінювати робочі характеристики програми.

**Методи рефакторингу:**

1. **Виділення методу (Extract Method):** Виведення частини коду в окремий метод для підвищення зрозумілості.
2. **Інлайн метод (Inline Method):** Переміщення простого методу безпосередньо до місць його використання.
3. **Замінити умови поліморфізмом (Replace Conditional with Polymorphism):** Використання поліморфізму для спрощення умовних конструкцій.
4. **Виділення класу (Extract Class):** Створення нового класу для функціональності, що перевантажує поточний клас.
5. **Інкапсуляція полів (Encapsulate Field):** Створення методів доступу для захисту і контролю доступу до полів класу.

**Запахи коду (Code Smells):**

- **Дублювання коду (Duplicate Code):** Копіювання логіки в різних частинах програми.
- **Перевантажені класи (Large Class):** Класи, що виконують занадто багато різних функцій.
- **Довгі методи (Long Method):** Методи з великим обсягом коду, що важко тестувати і підтримувати.
- **Довгі списки параметрів (Long Parameter List):** Методи, які приймають забагато параметрів.
- **Залежність між класами (Feature Envy):** Занадто часте використання внутрішніх даних одного класу в іншому.
- **Складна логіка умов (Complex Conditional Logic):** Велика кількість вкладених умов, що ускладнюють сприйняття коду.

---

**Реалізація та оптимізація коду**

Ось приклад коду до рефакторингу, що містить певні "запахи":

```python
def calculate_area(length, width, height):
    area = length * width
    volume = area * height
    return area, volume
```

**Цей код можна рефакторити, щоб зробити його більш читабельним і підтримуваним**

- **Покращення зрозумілості:**

  Виділимо обчислення площі та об'єму в окремі методи:

```python
    def calculate_area(length, width):
        return length * width

    def calculate_volume(length, width, height):
        area = calculate_area(length, width)
        return area * height
```

- **Зменшення дублювання:**

  Якщо з’являться інші функції, які використовують обчислення площі, ми можемо легко повторно використовувати calculate_area.

---

**Код з "брудними" моментами**

```python
    def calculate_area(length, width, height):
        area = length * width
        volume = area * height
        return area, volume

    def calculate_total(length, width, height):
        area = length * width
        volume = area * height
        surface_area = 2 * (length * width + width * height + length * height)
        return area, volume, surface_area
```

Тут ми бачимо дублювання обчислень, бо ми двічі обчислюємо площу та об'єм для різних функцій. Це неефективно і ускладнює підтримку коду.

---

### Висновок

Рефакторинг є важливою складовою частиною розробки програмного забезпечення. Він дозволяє покращити структуру коду, зменшити технічний борг і зробити код більш підтримуваним. За допомогою методів рефакторингу можна усунути "запахи коду" та забезпечити його ефективне використання у майбутньому. Чистий код полегшує додавання нових функцій і забезпечує довготривалу стабільність програмного продукту.
