## Львівський Національний Університет Природокористування
## Кафедра інформаційних систем та технологій



### Звіт про виконання лабораторної роботи №5
# "Рефакторинг програмного забезпечення"

| Виконав: Студент групи : Кн-31 Халюк Денис    |
|-----------------------------------------------|
| Перевірив: Татомир Андрій                     |


**Мета роботи: познайомитися з основними принципами та найбільш поширеними техніками рефакторингу програмного забезпечення.**

**Завдання:**
- Дати загальний опис принципів рефакторингу
- Ознайомитися із основними техніками рефакторингу. 
- Познайомитися із поняттям “запахів коду”. 

## Що таке рефакторинг коду?
Рефакторинг - це систематичний процес покращення внутрішньої структури програмного коду без зміни його зовнішньої поведінки.Основна мета рефакторингу полягає у створенні більш чистого, зрозумілого та підтримуваного коду.
## Принципи рефакторингу:
**Принцип збереження поведінки:**
Найважливіший принцип рефакторингу - зовнішня поведінка системи повинна залишатися незмінною. Користувачі не повинні помічати, що код був змінений.
**Принцип покрокових змін:**
Рефакторинг має відбуватися маленькими, керованими кроками. Кожна зміна повинна бути настільки малою, щоб у разі виникнення помилки її можна було легко виявити та виправити.
**Принцип тестування**
Кожна зміна повинна супроводжуватися запуском тестів. Це гарантує, що рефакторинг не порушив існуючу функціональність:
**Принцип чистого коду**
Код після рефакторингу повинен відповідати принципам чистого коду:
- Зрозумілі імена
- Короткі методи
- Єдина відповідальність
- Відсутність дублювання
**Принцип раннього рефакторингу**
Проблеми в коді краще виправляти одразу, коли вони виявлені. Відкладання рефакторингу призводить до накопичення технічного боргу.
**Принцип документування**
Важливі зміни в архітектурі та дизайні системи повинні бути задокументовані, щоб інші розробники розуміли причини прийнятих рішень.
**Принцип автоматизації**
Де можливо, слід використовувати автоматизовані інструменти рефакторингу, які надаються IDE та іншими засобами розробки. Це зменшує ймовірність помилок та прискорює процес.
**Принцип code review**
Зміни, внесені під час рефакторингу, повинні проходити code review, щоб забезпечити якість змін та поділитися знаннями з командою.

## Техніки рефакторингу: 
**Виділення методу (Extract Method)**Створення нового методу з частини коду, що виконує конкретне завдання.
**Перейменування (Rename)**Заміна незрозумілих назв на описові.
**Інкапсуляція поля (Encapsulate Field)**Обмеження прямого доступу до полів класу через геттери/сеттери.
**Розділення класу (Split Class)**Поділ великого класу на менші, більш спеціалізовані класи.
**Заміна умовної логіки поліморфізмом**Використання поліморфізму замість складних умовних конструкцій.
**Переміщення методу (Move Method)**Переміщення методу до класу, де він логічно більше підходить.
**Заміна масиву об'єктом**Заміна масиву спеціальним класом для кращої інкапсуляції.
**Видалення посередника (Remove Middle Man)**Видалення зайвих делегуючих методів.

### Переваги рефакторингу:

- Зменшення складності коду
- Краща читабельність та зрозумілість
- Зменшення дублювання коду
- Покращена структура та організація
- Легше виявлення та виправлення помилок

## Запахи коду

Запахи коду - це ознаки потенційних проблем у програмному коді, які вказують на необхідність рефакторингу.


**Дублювання коду (Duplicate Code)**Однаковий або схожий код повторюється в різних місцях.

**Довгі методи (Long Methods)**Методи, які містять забагато рядків коду та виконують багато операцій.

**Великі класи (Large Classes)**Класи з надто великою кількістю полів та методів.

**Заплутані умовні конструкції (Complex Conditionals)**Складні умовні вирази або вкладені умови.

**Параметри-прапорці (Flag Parameters)**Використання булевих параметрів для зміни поведінки методу.

**Порушення інкапсуляції (Broken Encapsulation)**Прямий доступ до внутрішніх даних об'єкта.

**Магічні числа (Magic Numbers)**Використання чисел без пояснення їх значення.

**Коментарі-милиці (Comments as Crutches)**Використання коментарів для пояснення заплутаного коду замість його покращення.


## Опис програми

Цей приклад показує, як виправлення цих "запахів" допомагає підтримувати код чистим, зрозумілим та легким для підтримки. Важливо регулярно переглядати код на наявність таких ознак та застосовувати відповідні техніки рефакторингу для їх усунення.

[Приклад запахів та їх рефакторингу](main.py)

## Висновки

Проведений аналіз рефакторингу коду показав важливість покращення його структури без зміни функціоналу. Розглянуті техніки, такі як виділення методів, усунення дублювань та покращення назв, демонструють, як зробити код більш зрозумілим і підтримуваним. Додатково розглянуті "запахи коду" та методи забезпечення стабільності функціоналу в процесі рефакторингу, що підкреслює значення тестування і поступового підходу до змін.