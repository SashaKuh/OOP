
# Львівський Національний Університет Природокористування
## Кафедра Інформаційних систем та Технологій

### Звіт про виконання лабораторної роботи №5
### Тема: "Рефакторинг програмного забезпечення"

| Виконав: студент групи КН-31 Фіковський Михайло |  
| ------------------------------------------ |  
| Перевірив: Татомир Андрій Володимирович               |  

---

### Мета
Познайомитися з основними принципами та найбільш поширеними техніками рефакторингу програмного забезпечення.


---

### Хід роботи

1. Дати загальний опис принципів рефакторингу.
2. Ознайомитися із основними техніками рефакторингу.
3. Познайомитися із поняттям “запахів коду”.


---

### Дати загальний опис принципів рефакторингу.

Принципи рефакторингу — це набір підходів і правил, які допомагають покращити структуру і якість коду без зміни його зовнішньої поведінки. Мета рефакторингу полягає в тому, щоб зробити код більш зрозумілим, гнучким, зручним для тестування та легшим для підтримки, що в результаті дозволяє зменшити кількість помилок і полегшити процеси оновлення та розширення програмного забезпечення.

### Загальні принципи рефакторингу:
- Маленькі зміни: Рефакторинг не передбачає великих і ризикованих змін. Важливо вносити невеликі зміни, щоб мати можливість швидко перевіряти їх на наявність помилок і порушень функціональності.
- Регулярність: Рефакторинг повинен проводитись регулярно, щоб не дозволяти коду накопичувати непотрібну складність. Чим раніше виявляються проблеми, тим легше їх виправити.
- Збереження тестів: Під час рефакторингу важливо переконатись, що всі існуючі функціональні тести проходять успішно. Це дозволяє впевнитись, що зміни не порушили основну логіку програми.
- Простота: Код має бути простим і зрозумілим. Необхідно уникати надмірної складності, яка може виникнути через непотрібну оптимізацію або погану структуру.
- Придатність для модифікації: Рефакторинг також повинен зменшувати складність коду, що дозволяє спростити його модифікацію і розширення в майбутньому.

#### Чому важливий рефакторинг:
- Полегшення підтримки коду: З часом програми можуть ставати важкими для підтримки, якщо код не рефакториться. Чистий і зрозумілий код полегшує додавання нових функцій і виправлення помилок.
- Зменшення складності: Рефакторинг допомагає знизити складність, що дозволяє легше розуміти код і виявляти проблеми.
- Покращення продуктивності: Окрім поліпшення структури, рефакторинг може включати оптимізацію частин коду, що виводить програму на новий рівень ефективності.

#### Основні техніки рефакторингу
1) Виділення методу (Extract Method):Коли одна велика функція або метод виконує багато завдань, її можна розділити на кілька менших функцій або методів, кожен з яких виконуватиме одну конкретну задачу

2) Виділення класу :Коли клас стає занадто великим і виконує багато різних завдань, його можна розділити на кілька менших класів, кожен з яких відповідає за окрему функціональність.

3) Заміна магічних чисел (Replace Magic Numbers with Constants):Коли в коді використовуються значення, які не мають очевидного значення, можна замінити їх на добре іменовані константи.

#### Запахи коду
Запахи коду — це ознаки, що свідчать про проблеми в коді, які не викликають негайних помилок, але ускладнюють його підтримку, розвиток і розуміння. Запахи коду зазвичай є наслідком поганого дизайну, технічного боргу або поспішних рішень у процесі розробки.

Хоча запахи коду не є прямими багами, їх ігнорування може призвести до значного ускладнення роботи з проєктом у майбутньому.

#### Код
[До](DO.py)
Пояснення до рефакторингу:
У цьому коді існують окремі функції для обчислення податку в США та Великобританії. Кожна функція має власну логіку, що призводить до дублювання коду. Якщо потрібно додати нову країну з іншим податком, треба створювати нову функцію, що робить код менш гнучким і важким для розширення.


[Після](PISLYA.py)
Пояснення після рефакторингу:
1) Створена одна функція calculate_tax, яка приймає два параметри:
- amount — сума, з якої потрібно обчислити податок.
- rate — ставка податку для відповідної країни (наприклад, 0.1 для США або 0.2 для Великобританії).
2) Тепер, щоб обчислити податок для будь-якої країни, достатньо викликати одну функцію з відповідною ставкою податку.
3) Замість створення окремих функцій для кожної країни, одна універсальна функція забезпечує більшу гнучкість і зменшує дублювання коду.

---

### Висновок

У результаті виконання лабораторної роботи було продемонстровано важливість принципу рефакторингу коду, зокрема видалення дублювання та створення більш універсальних функцій. У процесі рефакторингу ми об'єднали окремі функції для обчислення податку в різних країнах в одну загальну функцію, що дозволило значно спростити код, зменшити ймовірність помилок і полегшити розширення програми в майбутньому.

---


